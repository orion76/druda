// Flexboxgrid based on https://github.com/kristoferjoseph/flexboxgrid
// Grid naming adjusted to Materialize grid class names.


@mixin flex-grid-column($gutter: $gutter-width) {
  box-sizing: border-box;
  flex: 0 0 auto;
  padding-left: $gutter / 2;
  padding-right: $gutter / 2;
}

@mixin flex-grid-classes($size, $i, $perc) {
  .offset-#{$size}#{$i} {
    margin-left: $perc;
  }
}

.container-fluid,
.container {
  margin-right: auto;
  margin-left: auto;
}

.container-fluid {
  padding-right: $fluid-container-outer-margin;
  padding-left: $fluid-container-outer-margin;
}

// todo: add vars for fixed units.
.container {
  margin: 0 auto;
  max-width: 1280px;
  width: 90%;
}

@media #{$medium-and-up} {
  .container {
    width: 85%;
  }
}
@media #{$large-and-up} {
  .container {
    width: 70%;
  }
}
.container {
  .row {
    @include make-row();
  }

  .row.reverse {
    flex-direction: row-reverse;
  }

  .col.reverse {
    flex-direction: column-reverse;
  }

  .col {
    @include flex-grid-column();
  }

  .col-s-auto,
  .col-s {
    flex-grow: 1;
    flex-basis: 0;
    max-width: 100%;
  }

  $i: 1;
  @while $i <= $num-cols {
    $perc: percentage($i / $num-cols);
    .s#{$i} {
      max-width: $perc;
      flex: 0 0 $perc;
    }
    $i: $i + 1;
  }

  $i: 1;
  @while $i <= $num-cols {
    $perc: percentage($i / $num-cols);
    @include flex-grid-classes("s", $i, $perc);
    $i: $i + 1;
  }

  .start-s {
    justify-content: flex-start;
    text-align: start;
  }

  .center-s {
    justify-content: center;
    text-align: center;
  }

  .end-s {
    justify-content: flex-end;
    text-align: end;
  }

  .top-s {
    align-items: flex-start;
  }

  .middle-s {
    align-items: center;
  }

  .bottom-s {
    align-items: flex-end;
  }

  .around-s {
    justify-content: space-around;
  }

  .between-s {
    justify-content: space-between;
  }

  .first-s {
    order: -1;
  }

  .last-s {
    order: 1;
  }


  @media #{$medium-and-up} {
    .col-m-auto,
    .col-m {
      flex-grow: 1;
      flex-basis: 0;
      max-width: 100%;
    }

    $i: 1;
    @while $i <= $num-cols {
      $perc: percentage($i / $num-cols);
      .m#{$i} {
        max-width: $perc;
        flex: 0 0 $perc;
      }
      $i: $i + 1
    }

    $i: 1;
    @while $i <= $num-cols {
      $perc: percentage($i / $num-cols);
      @include flex-grid-classes("m", $i, $perc);
      $i: $i + 1;
    }

    .start-m {
      justify-content: flex-start;
      text-align: start;
    }

    .center-m {
      justify-content: center;
      text-align: center;
    }

    .end-m {
      justify-content: flex-end;
      text-align: end;
    }

    .top-m {
      align-items: flex-start;
    }

    .middle-m {
      align-items: center;
    }

    .bottom-m {
      align-items: flex-end;
    }

    .around-m {
      justify-content: space-around;
    }

    .between-m {
      justify-content: space-between;
    }

    .first-m {
      order: -1;
    }

    .last-m {
      order: 1;
    }
  }

  @media #{$large-and-up} {

    .col-l-auto,
    .col-l {
      flex-grow: 1;
      flex-basis: 0;
      max-width: 100%;
    }

    $i: 1;
    @while $i <= $num-cols {
      $perc: percentage($i / $num-cols);
      .l#{$i} {
        max-width: $perc;
        flex: 0 0 $perc;
      }
      $i: $i + 1;
    }

    $i: 1;
    @while $i <= $num-cols {
      $perc: percentage($i / $num-cols);
      @include flex-grid-classes("l", $i, $perc);
      $i: $i + 1;
    }

    .start-l {
      justify-content: flex-start;
      text-align: start;
    }

    .center-l {
      justify-content: center;
      text-align: center;
    }

    .end-l {
      justify-content: flex-end;
      text-align: end;
    }

    .top-l {
      align-items: flex-start;
    }

    .middle-l {
      align-items: center;
    }

    .bottom-l {
      align-items: flex-end;
    }

    .around-l {
      justify-content: space-around;
    }

    .between-l {
      justify-content: space-between;
    }

    .first-l {
      order: -1;
    }

    .last-l {
      order: 1;
    }

  }

  @media #{$extra-large-and-up} {
    .col-xl-auto,
    .col-xl {
      flex-grow: 1;
      flex-basis: 0;
      max-width: 100%;
    }

    $i: 1;
    @while $i <= $num-cols {
      $perc: percentage($i / $num-cols);
      .xl#{$i} {
        max-width: $perc;
        flex: 0 0 $perc;
      }
      $i: $i + 1;
    }

    $i: 1;
    @while $i <= $num-cols {
      $perc: percentage($i / $num-cols);
      @include flex-grid-classes("xl", $i, $perc);
      $i: $i + 1;
    }

    .start-xl {
      justify-content: flex-start;
      text-align: start;
    }

    .center-xl {
      justify-content: center;
      text-align: center;
    }

    .end-xl {
      justify-content: flex-end;
      text-align: end;
    }

    .top-xl {
      align-items: flex-start;
    }

    .middle-xl {
      align-items: center;
    }

    .bottom-xl {
      align-items: flex-end;
    }

    .around-xl {
      justify-content: space-around;
    }

    .between-xl {
      justify-content: space-between;
    }

    .first-xl {
      order: -1;
    }

    .last-xl {
      order: 1;
    }
  }
}

